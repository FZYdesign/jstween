/*!
 * GIT: https://github.com/shrekshrek/jstween
 **/

!function(t){"function"==typeof define&&define.amd?define(["exports"],function(e){window.JT=t(e)}):"undefined"!=typeof exports?t(exports):window.JT=t({})}(function(t){function e(t,e){if(t.length&&t.length>0)for(var i=0;i<t.length;i++)e.call(t[i],i,t[i]);else e.call(t,0,t)}function i(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function n(t){return t.replace(/\b(\w)|\s(\w)/g,function(t){return t.toUpperCase()})}function r(t){return Math.round(1e3*t)/1e3}function s(t){return t?X+n(t):X}function a(t){if(!t)throw"el is undefined, can't tween!!!";return"string"==typeof t?document.querySelectorAll(t):t}function o(t,e,i){if(i){if("rotation"===e||"scale"===e)return e;if(void 0!==t._jt_obj[e])return e;if(void 0!==t.style[e])return e;if(e=s(e),void 0!==t.style[e])return e}else if("string"==typeof t[e]||"number"==typeof t[e])return e;return void 0}function u(t,e){var i={};if(Array.isArray(e)){i.num=[t.num];for(var n=0,r=e.length;r>n;n++){var s=h(t,e[n]);i.num.push(s.num),i.unit=s.unit}}else i=h(t,e);return i}function h(t,e){var i=l(e);"rem"===t.unit&&"rem"!==i.unit?(T(),t.num=r(t.num*V),t.unit="px"):"rem"!==t.unit&&"rem"===i.unit&&(T(),t.num=r(t.num/V),t.unit="rem");var n;switch(i.ext){case"+=":n=t.num+i.num;break;case"-=":n=t.num-i.num;break;default:n=i.num}return{num:n,unit:i.unit||t.unit}}function c(t){void 0===t._jt_obj&&(t._jt_obj={perspective:0,x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,skewY:0})}function l(t){var e=/(\+=|-=|)(-|)(\d+\.\d+|\d+)(e[+-]?[0-9]{0,2}|)(rem|px|%|)/i,i=e.exec(t);return i?{num:r(i[2]+i[3]+i[4]),unit:i[5],ext:i[1]}:{num:0,unit:"px",ext:""}}function f(t){return/(,| |jpeg|jpg|png|gif|-3d)/g.test(t)||!/\d/g.test(t)}function p(t,e){switch(e){case"perspective":case"x":case"y":case"z":case"rotationX":case"rotationY":case"rotationZ":case"scaleX":case"scaleY":case"scaleZ":case"skewX":case"skewY":return t._jt_obj[e];case"rotation":return t._jt_obj.rotationZ;case"scale":return t._jt_obj.scaleX;default:return m(t,e)}}function m(t,e){if(t.style[e])return t.style[e];if(document.defaultView&&document.defaultView.getComputedStyle){var n=i(e),r=document.defaultView.getComputedStyle(t,"");return r&&r.getPropertyValue(n)}return t.currentStyle?t.currentStyle[e]:null}function d(t,e,i){switch(e){case"perspective":case"x":case"y":case"z":case"rotationX":case"rotationY":case"rotationZ":case"scaleX":case"scaleY":case"scaleZ":case"skewX":case"skewY":return t._jt_obj[e]=i,!0;case"rotation":return t._jt_obj.rotationZ=i,!0;case"scale":return t._jt_obj.scaleX=i,t._jt_obj.scaleY=i,!0;default:return v(t,e,i),!1}}function v(t,e,i){t.style[e]=i}function y(t){return"object"==typeof t&&1===t.nodeType}function _(t){var e="";t._jt_obj.perspective&&(e+="perspective("+t._jt_obj.perspective+") "),(t._jt_obj.x||t._jt_obj.y||t._jt_obj.z)&&(e+="translate3d("+j(t._jt_obj.x)+","+j(t._jt_obj.y)+","+j(t._jt_obj.z)+") "),t._jt_obj.rotationX&&(e+="rotateX("+t._jt_obj.rotationX%360+"deg) "),t._jt_obj.rotationY&&(e+="rotateY("+t._jt_obj.rotationY%360+"deg) "),t._jt_obj.rotationZ&&(e+="rotateZ("+t._jt_obj.rotationZ%360+"deg) "),(1!==t._jt_obj.scaleX||1!==t._jt_obj.scaleY||1!==t._jt_obj.scaleZ)&&(e+="scale3d("+t._jt_obj.scaleX+", "+t._jt_obj.scaleY+", "+t._jt_obj.scaleZ+") "),(t._jt_obj.skewX||t._jt_obj.skewY)&&(e+="skew("+t._jt_obj.skewX+"deg,"+t._jt_obj.skewY+"deg) "),t.style[s("transform")]=e}function j(t){return t+("number"==typeof t?"px":"")}function T(){A||(A=document.createElement("div"),A.style.cssText="border:0 solid; position:absolute; line-height:0px;"),Y||(Y=document.getElementsByTagName("body")[0]),Y.appendChild(A),A.style.borderLeftWidth="1rem",V=parseFloat(A.offsetWidth),Y.removeChild(A)}function w(){var e=Z.length;if(0===e)return void(z=!1);var i=t.now(),n=i-U;U=i,D=Z.slice(0);for(var r=0;e>r;r++){var s=D[r];s&&s.isPlaying&&!s._update(n)&&s.pause()}F(w)}function b(){this.initialize.apply(this,arguments)}function S(t){for(var e in t.fromVars){var i=l(t.isDom?p(t.el,e):t.el[e]);t.fromVars[e]=null===t.fromVars[e]?i:u(i,t.fromVars[e]),t.toVars[e]=null===t.toVars[e]?i:u(t.fromVars[e],t.toVars[e])}}function g(t,i,n,r,s){if("number"!=typeof n)throw"The second parameter must be a number!";P(s);var u=a(i),h=[];return e(u,function(e,i){var a,u={},l={},f=y(i);switch(t){case"fromTo":a=s,a.isFrom=!0;break;case"from":a=r,a.isFrom=!0;break;case"to":a=s,a.isFrom=!1}f&&c(i);for(var p in a){var m=o(i,p,f);if(m)switch(t){case"fromTo":u[m]=r[p],l[m]=s[p];break;case"from":u[m]=r[p],l[m]=null;break;case"to":u[m]=null,l[m]=s[p]}else l[p]=a[p]}h.push(new b(i,n,u,l,f))}),0===h.length?null:1===h.length?h[0]:h}function M(t,i,n){var r=a(t),s=Z.length;e(r,function(t,e){for(var r=s-1;r>=0;r--){var a=Z[r];a.el===e&&a[i](n)}})}function k(t,e){for(var i=Z.length,n=i-1;n>=0;n--){var r=Z[n];r[t](e)}}function P(t){t.bezier&&(R(t,t.bezier),t.interpolation=x,delete t.bezier),t.through&&(R(t,t.through),t.interpolation=O,delete t.through),t.linear&&(R(t,t.linear),t.interpolation=I,delete t.linear)}function R(t,e){for(var i=0,n=e.length;n>i;i++)for(var r in e[i])0===i?t[r]=[e[i][r]]:t[r].push(e[i][r])}function I(t,e){var i=t.length-1,n=i*e,r=Math.floor(n),s=q.Linear;return 0>e?s(t[0],t[1],n):e>1?s(t[i],t[i-1],i-n):s(t[r],t[r+1>i?i:r+1],n-r)}function x(t,e){var i,n=0,r=t.length-1,s=Math.pow,a=q.Bernstein;for(i=0;r>=i;i++)n+=s(1-e,r-i)*s(e,i)*t[i]*a(r,i);return n}function O(t,e){var i=t.length-1,n=i*e,r=Math.floor(n),s=q.Through;return t[0]===t[i]?(0>e&&(r=Math.floor(n=i*(1+e))),s(t[(r-1+i)%i],t[r],t[(r+1)%i],t[(r+2)%i],n-r)):0>e?t[0]-(s(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[i]-(s(t[i],t[i],t[i-1],t[i-1],n-i)-t[i]):s(t[r?r-1:0],t[r],t[r+1>i?i:r+1],t[r+2>i?i:r+2],n-r)}Date.now=Date.now||function(){return(new Date).getTime()};var E=Date.now();t.now=function(){return Date.now()-E};var Y,A,V,X=function(){var t=document.createElement("div"),e=["Webkit","Moz","Ms","O"];for(var i in e)if(e[i]+"Transform"in t.style)return e[i]}(),F=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},Z=[],D=[],z=!1,U=0;Object.assign(b.prototype,{initialize:function(e,i,n,r,s){this.fromVars=n,this.curVars={},this.toVars=r,this.el=e,this.duration=1e3*Math.max(i,0),this.ease=r.ease||t.Linear.None,this.delay=1e3*Math.max(r.delay||0,0),this.yoyo=r.yoyo||!1,this.repeat=r.repeat||0,this.repeatDelay=1e3*Math.max(r.repeatDelay||0,0),this.onStart=r.onStart||null,this.onStartScope=r.onStartScope||this,this.onStartParams=r.onStartParams||[],this.onRepeat=r.onRepeat||null,this.onRepeatScope=r.onRepeatScope||this,this.onRepeatParams=r.onRepeatParams||[],this.onEnd=r.onEnd||null,this.onEndScope=r.onEndScope||this,this.onEndParams=r.onEndParams||[],this.onUpdate=r.onUpdate||null,this.onUpdateScope=r.onUpdateScope||this,this.onUpdateParams=r.onUpdateParams||[],this.isPlaying=!1,this.interpolation=r.interpolation||null,this.isReverse=r.isReverse||!1,this.timeScale=r.timeScale||1,this.isFrom=r.isFrom||!1,this.isReady=!1,this.isSeek=!1,this.isKeep=!1,this.isYoReverse=!1,this.isDom=s,this.repeat=this.repeat<0?999999999999:Math.floor(this.repeat),this.curRepeat=0,this.elapsed=null,this.startTime=this.delay,this.endTime=this.startTime+this.repeatDelay*this.repeat+this.duration*(this.repeat+1),this.curTime=0,this.lastTime=null,this.play()},_update:function(t){this.isKeep=!1,t=(this.isReverse?-1:1)*t*this.timeScale;var e=this.curTime,i=Math.min(this.endTime,Math.max(0,e+t));if(i===this.curTime)return!1;this.lastTime=e,this.curTime=i;var n=Math.min(this.repeat,Math.max(0,Math.floor((this.curTime-this.startTime)/(this.duration+this.repeatDelay)))),r=!1;if(n!==this.curRepeat&&(this.curRepeat=n,this.yoyo&&(this.isYoReverse=this.curRepeat%2!==0),r=!0),this.isFrom&&(this.isReady||(S(this),this.isReady=!0),this._updateProp()),this.lastTime<this.startTime&&this.curTime<this.startTime)return!0;if(this.isFrom||(this.isReady||(S(this),this.isReady=!0),this._updateProp()),this.lastTime<this.curTime){if(this.lastTime<=this.startTime&&this.curTime>this.startTime&&!this.isSeek&&this.onStart&&this.onStart.apply(this.onStartScope,this.onStartParams),r&&!this.isSeek&&this.onRepeat&&this.onRepeat.apply(this.onRepeatScope,this.onRepeatParams),this.lastTime<this.endTime&&this.curTime>=this.endTime)return!this.isSeek&&this.onEnd&&this.onEnd.apply(this.onEndScope,this.onEndParams),this.isKeep}else if(this.lastTime>=this.endTime&&this.curTime<this.endTime&&!this.isSeek&&this.onEnd&&this.onEnd.apply(this.onEndScope,this.onEndParams),r&&!this.isSeek&&this.onRepeat&&this.onRepeat.apply(this.onRepeatScope,this.onRepeatParams),this.lastTime>this.startTime&&this.curTime<=this.startTime)return!this.isSeek&&this.onStart&&this.onStart.apply(this.onStartScope,this.onStartParams),this.isKeep;return!0},_updateProp:function(){var t=Math.min(1,Math.max(0,(this.curTime===this.endTime?this.duration:(this.curTime-this.startTime)%(this.duration+this.repeatDelay))/this.duration));if(this.isYoReverse&&(t=1-t),t!==this.elapsed){this.elapsed=t;var e=this.ease(t),i=!1;for(var n in this.fromVars){var s,a=this.fromVars[n],o=this.toVars[n];s=Array.isArray(o.num)?this.interpolation(o.num,e):a.num+(o.num-a.num)*e,s=r(s),this.curVars[n]={num:s,unit:o.unit},this.isDom?d(this.el,n,s+(o.unit||0))&&(i=!0):this.el[n]=s+(o.unit||0)}i&&_(this.el),!this.isSeek&&this.onUpdate&&this.onUpdate.apply(this.onUpdateScope,this.onUpdateParams)}},_addSelf:function(){Z.push(this),z||(U=t.now(),z=!0,F(w))},_removeSelf:function(){var t=Z.indexOf(this);-1!==t&&Z.splice(t,1)},play:function(t){return this.isReverse=!1,void 0!==t&&this.seek(t,!0),this.curTime===this.endTime?this.isKeep=!1:(this.isKeep=!0,void(this.isPlaying||(this.isPlaying=!0,this._addSelf())))},pause:function(){this.isKeep=!1,this.isPlaying&&(this.isPlaying=!1,this._removeSelf())},stop:function(){this.pause(),0!==this.curTime&&(this.curTime=this.curRepeat=0,this.isYoReverse=!1,this._updateProp())},reverse:function(t){return this.isReverse=!0,void 0!==t&&this.seek(t,!0),0===this.curTime?this.isKeep=!1:(this.isKeep=!0,void(this.isPlaying||(this.isPlaying=!0,this._addSelf())))},seek:function(t,e){var i=Math.max(0,Math.min(this.endTime,1e3*t));this.curTime!==i&&(this.isSeek=e||!1,this._update(i-this.curTime),this.isSeek=!1)},setTimeScale:function(t){this.timeScale=t},kill:function(t){this.pause(),t&&(this.curTime=this.endTime,this.curRepeat=this.repeat,this._updateProp(),this.onEnd&&this.onEnd.apply(this.onEndScope,this.onEndParams)),this.duration=null,this.curTime=this.lastTime=this.startTime=this.endTime=null,this.el=this.onStart=this.onRepeat=this.onEnd=this.onUpdate=null}}),Object.assign(t,{get:function(t,e){var i=a(t);void 0!==i.length&&(i=i[0]);var n=y(i);if(n){c(i);var r=o(i,e,n);return r?p(i,r):null}return i[e]},set:function(t,i){var n=a(t);e(n,function(t,e){var n=y(e);if(n){c(e);var r=!1;for(var s in i){var a=o(e,s,n);if(a)if(f(i[s]))d(e,a,i[s]);else{var h=u(l(p(e,a)),i[s]);d(e,a,h.num+(h.unit||0))&&(r=!0)}}r&&_(e)}else for(var s in i){var h=u(l(e[s]),i[s]);e[s]=h.num+(h.unit||0)}})},fromTo:function(t,e,i,n){return e||n.delay?g("fromTo",t,e,i,n):this.set(t,n)},from:function(t,e,i){return e||i.delay?g("from",t,e,i,{}):this.set(t,i)},to:function(t,e,i){return e||i.delay?g("to",t,e,{},i):this.set(t,i)},kill:function(t,i){var n=a(t);e(n,function(t,e){for(var n=Z.length,r=n-1;r>=0;r--){var s=Z[r];s.el===e&&s.kill(i)}})},killAll:function(t){for(var e=Z.length,i=e-1;i>=0;i--){var n=Z[i];n.kill(t)}},play:function(t,e){M(t,"play",e)},playAll:function(t){k("play",t)},pause:function(t){M(t,"pause")},pauseAll:function(){k("pause")},stop:function(t){M(t,"stop")},stopAll:function(){k("stop")},reverse:function(t,e){M(t,"reverse",e)},reverseAll:function(t){k("reverse",t)},seek:function(t,e){M(t,"seek",e)},seekAll:function(t){k("seek",t)},setTimeScale:function(t,e){M(t,"setTimeScale",e)},setTimeScaleAll:function(t){k("setTimeScale",t)},isTweening:function(t){var e=a(t);e=e[0]||e;for(var i=Z.length,n=i-1;n>=0;n--){var r=Z[n];if(r.el===e)return!0}return!1},call:function(t,e,i,n){return t&&i.delay?new b({},Math.max(0,t),{},{onEnd:e,onEndParams:i,isPlaying:n},!1):e.apply(e,i)}}),Object.assign(t,{path:function(e){P(e);for(var i,n=e.ease||t.Linear.None,r=e.step||1,s=[],a=0;r>=a;a++){i=n(a/r);var o={};for(var u in e)Array.isArray(e[u])&&(o[u]=e.interpolation(e[u],i));s.push(o)}return s}});var q={Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=q.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){var t=[1];return function(e){var i,n=1;if(t[e])return t[e];for(i=e;i>1;i--)n*=i;return t[e]=n}}(),Through:function(t,e,i,n,r){var s=.5*(i-t),a=.5*(n-e),o=r*r,u=r*o;return(2*e-2*i+s+a)*u+(-3*e+3*i-2*s-a)*o+s*r+e}};return Object.assign(t,{Linear:{None:function(t){return t}},Quad:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quart:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quint:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sine:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Expo:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circ:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n)))},Out:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/n)+1)},InOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?-.5*i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n):i*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n)*.5+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(e){return 1-t.Bounce.Out(1-e)},Out:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(e){return.5>e?.5*t.Bounce.In(2*e):.5*t.Bounce.Out(2*e-1)+.5}}}),t});
