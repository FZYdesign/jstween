/*!
 * GIT: https://github.com/shrekshrek/jstween
 **/

!function(t){if("function"==typeof define&&define.amd)define(["jstween","exports"],function(s,i){window.JP=t(i,s)});else if("undefined"!=typeof exports){var s=require("jstween");t(exports,s)}else window.JP=t({},window.JT)}(function(t,s){function i(){this.initialize.apply(this,arguments)}return Object.assign(i.prototype,{initialize:function(t){t=t||{},this.el=t.el,this.hook=t.hook||0,this.key=t.key||"y",this.pinLength=0,this.isSeek=!1,this.curPos=this.prevPos=null,this.tweens=[],this.calls=[],this.pins=[]},_update:function(t){this.prevPos=this.curPos,this.curPos=this.prevPos+t,this._checkTween(),this._checkCall(),this._checkPin(),this.el&&(this.el[this.key]=-(this.curPos-this.pinLength))},addCall:function(t,s){this.calls.push({start:s,call:t}),this._updateEndTime()},_checkCall:function(){for(var t=0,s=this.calls.length;s>t;t++){var i=this.calls[t],e=this.prevPos+this.hook-i.start,n=this.curPos+this.hook-i.start;!this.isSeek&&(0===i.start&&0===e&&n>0||e<i.start&&n>=i.start||e>i.start&&n<=i.start||i.start===this.endTime&&e===this.endTime&&n<this.endTime)&&i.call()}},addTween:function(t,i,e){t.stop();var n=s.get(t.el,this.key),h=n-i;this.tweens.push({start:h,tween:t,duration:e})},_checkTween:function(){for(var t=0,s=this.tweens.length;s>t;t++){var i=this.tweens[t],e=this.prevPos+this.hook-i.start,n=this.curPos+this.hook-i.start;0===i.duration?!this.isSeek&&(0===i.start&&0===e&&n>0||e<i.start&&n>=i.start||e>i.start&&n<=i.start||i.start===this.endTime&&e===this.endTime&&n<this.endTime)&&i.play(0):i.tween.seek(n/i.duration*i.tween.endTime/1e3,this.isSeek)}},addPin:function(t,s){this.pins.push({start:t,duration:s})},_checkPin:function(){this.pinLength=0;for(var t=0,s=this.pins.length;s>t;t++){var i=this.pins[t];this.curPos>i.start+i.duration?this.pinLength+=i.duration:this.curPos>i.start&&(this.pinLength+=this.curPos-i.start)}},fromTo:function(t,i,e,n,h,r){var o=s.fromTo(t,i,e,n);return this.addTween(o,h,r),this},from:function(t,i,e,n,h){var r=s.from(t,i,e);return this.addTween(r,n,h),this},to:function(t,i,e,n,h){var r=s.to(t,i,e);return this.addTween(r,n,h),this},add:function(t,s,i){switch(typeof t){case"object":this.addTween(t,s,i);break;case"function":this.addCall(t,s);break;case"number":this.addPin(t,s);break;default:throw"add action is wrong!!!"}return this},seek:function(t,s){this.curPos!==t&&(void 0!==s&&(this.isSeek=s),this._update(t-this.curPos),this.isSeek=!1)},kill:function(){this.tweens=[],this.calls=[],this.pins=[],this.curPos=this.prevPos=null}}),Object.assign(t,{create:function(t){return new i(t)},kill:function(t){t.kill()}}),t});
